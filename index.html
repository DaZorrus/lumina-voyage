<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lumina Voyage - An Atmospheric Journey</title>
  
  <!-- CSS Stylesheets -->
  <link rel="stylesheet" href="/src/styles/main.css">
  
  <!-- UI Styles -->
  <link rel="stylesheet" href="/src/styles/ui/menu.css">
  <link rel="stylesheet" href="/src/styles/ui/settings.css">
  <link rel="stylesheet" href="/src/styles/ui/instructions.css">
  <link rel="stylesheet" href="/src/styles/ui/credits.css">
  
  <!-- Game Styles -->
  <link rel="stylesheet" href="/src/styles/game/loading.css">
  <link rel="stylesheet" href="/src/styles/game/level-select.css">
  <link rel="stylesheet" href="/src/styles/game/hud.css">
  <link rel="stylesheet" href="/src/styles/game/pause.css">
  <link rel="stylesheet" href="/src/styles/game/controls-hint.css">
</head>

<body>
  <!-- ========== LOADING SCREEN ========== -->
  <div id="loading-screen">
    <div class="loading-orb"></div>
    <div class="loading-bar-container">
      <div id="loading-progress"></div>
      <div id="loading-progress-glow"></div>
    </div>
    <div class="loading-text">Initializing</div>
  </div>

  <!-- ========== MAIN MENU ========== -->
  <div id="main-menu" class="hidden">
    <h1 class="menu-title">LUMINA VOYAGE</h1>
    <p class="menu-subtitle">An Atmospheric Journey Through Light</p>
    <div class="menu-buttons">
      <button class="menu-btn primary" id="btn-start">START JOURNEY</button>
      <button class="menu-btn" id="btn-instructions">HOW TO PLAY</button>
      <button class="menu-btn" id="btn-settings">SETTINGS</button>
      <button class="menu-btn" id="btn-credits">CREDITS</button>
      <button class="menu-btn danger" id="btn-quit-game">QUIT GAME</button>
    </div>
  </div>

  <!-- ========== LEVEL SELECT ========== -->
  <div id="level-select" class="hidden">
    <h2 class="level-select-title">SELECT CHAPTER</h2>

    <div class="constellation-map">
      <!-- SVG Connection lines -->
      <svg class="constellation-svg" viewBox="0 0 600 400">
        <defs>
          <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:rgba(100,180,255,0.2)" />
            <stop offset="50%" style="stop-color:rgba(100,180,255,0.7)" />
            <stop offset="100%" style="stop-color:rgba(100,180,255,0.2)" />
          </linearGradient>
        </defs>
        <!-- Line from Chapter 0 to Chapter 1 -->
        <line x1="100" y1="210" x2="300" y2="150" />
        <!-- Line from Chapter 1 to Chapter 2 -->
        <line x1="300" y1="150" x2="500" y2="210" />
      </svg>

      <!-- Chapter 0 -->
      <div class="chapter-star star-0 unlocked" data-chapter="0">
        <div class="star-glow"></div>
        <div class="star-label">
          THE VOID
          <div class="star-sublabel">Chapter 0</div>
        </div>
      </div>

      <!-- Chapter 1 -->
      <div class="chapter-star star-1 unlocked" data-chapter="1">
        <div class="star-glow"></div>
        <div class="star-label">
          THE ASCENT
          <div class="star-sublabel">Chapter 1</div>
        </div>
      </div>

      <!-- Chapter 2 -->
      <div class="chapter-star star-2 locked" data-chapter="2">
        <div class="star-glow"></div>
        <div class="star-label">
          NEBULA
          <div class="star-sublabel">Chapter 2</div>
        </div>
      </div>
    </div>

    <button class="btn-back" id="btn-back-levels">‚Üê BACK</button>
  </div>

  <!-- ========== SETTINGS MENU ========== -->
  <div id="settings-menu" class="hidden">
    <h2 class="settings-title">SETTINGS</h2>

    <div class="settings-container">
      <div class="settings-row">
        <span class="settings-label">MASTER VOLUME</span>
        <div class="settings-control">
          <input type="range" class="settings-slider" id="slider-master" min="0" max="100" value="80">
          <span class="settings-value" id="master-value">80%</span>
        </div>
      </div>

      <div class="settings-row">
        <span class="settings-label">MUSIC</span>
        <div class="settings-control">
          <input type="range" class="settings-slider" id="slider-music" min="0" max="100" value="50">
          <span class="settings-value" id="music-value">50%</span>
        </div>
      </div>

      <div class="settings-row">
        <span class="settings-label">SFX</span>
        <div class="settings-control">
          <input type="range" class="settings-slider" id="slider-sfx" min="0" max="100" value="80">
          <span class="settings-value" id="sfx-value">80%</span>
        </div>
      </div>
    </div>

    <button class="btn-back" id="btn-back-settings">‚Üê BACK</button>
    <button class="btn-back" id="btn-back-settings-ingame" style="display:none;">‚Üê BACK TO PAUSE</button>
  </div>

  <!-- ========== CREDITS SCREEN ========== -->
  <div id="credits-screen" class="hidden">
    <h2 class="credits-title">LUMINA VOYAGE</h2>

    <div class="credits-content">
      <div class="credits-section">
        <h4>Created By</h4>
        <p>Ngo Hoang Nam Hung</p>
      </div>

      <div class="credits-section">
        <h4>Technology</h4>
        <p>Three.js ‚Ä¢ Tone.js ‚Ä¢ Vite</p>
      </div>

      <div class="credits-section">
        <h4>Special Thanks</h4>
        <p>To all who journey through the light</p>
      </div>
    </div>

    <button class="btn-back" id="btn-back-credits">‚Üê BACK</button>
  </div>

  <!-- ========== INSTRUCTIONS SCREEN ========== -->
  <div id="instructions-screen" class="hidden">
    <h2 class="instructions-title">System Manual</h2>

    <div class="instructions-tabs">
      <button class="tab-btn active" data-tab="ch0">Chapter 0</button>
      <button class="tab-btn" data-tab="ch1">Chapter 1</button>
      <button class="tab-btn" data-tab="controls">Controls</button>
    </div>

    <div class="instructions-content">

      <!-- CHAPTER 0: THE VOID -->
      <div class="tab-content active" id="tab-ch0">
        <h3>The Void</h3>
        <div class="tab-subtitle">Initiation Sequence ‚Ä¢ Low Speed ‚Ä¢ Exploration</div>

        <div class="instr-grid">
          <div class="instr-card warm">
            <h4>‚ö° MISSION GOAL</h4>
            <p>Drift through the silence. Collect <span class="highlight-gold">Energy Orbs</span> to unlock the
              portal.</p>
          </div>

          <div class="instr-card warm">
            <h4>üëÅÔ∏è VISIBILITY</h4>
            <p>The Void is dark. Follow the faint trail of star-dust and use your intuition.</p>
          </div>

          <div class="instr-card warm">
            <h4>üì° SONAR PULSE</h4>
            <p>Press <span class="key-cap">F</span> to emit a pulse wave. It reveals distant Orbs hidden in the
              darkness.</p>
          </div>

          <div class="instr-card warm">
            <h4>üõ°Ô∏è STATUS</h4>
            <p>No enemies detected. Focus on mastering flight controls and orientation.</p>
          </div>
        </div>
      </div>

      <!-- CHAPTER 1: THE ASCENT -->
      <div class="tab-content" id="tab-ch1">
        <h3>The Ascent</h3>
        <div class="tab-subtitle">High Velocity ‚Ä¢ Hazard Evasion ‚Ä¢ Gravity Slingshot</div>

        <div class="instr-grid">
          <!-- 1. Goal: Photons -->
          <div class="instr-card">
            <h4>üöÄ ACCELERATION</h4>
            <p>Collect <span class="highlight-blue">Blue Photons</span> to gain velocity. <br>Target: Reach <span
                class="highlight-blue">100% LIGHT SPEED</span> to escape.</p>
          </div>

          <!-- 2. Hazards: Meteors & Comets -->
          <div class="instr-card danger">
            <h4>‚òÑÔ∏è EVASIVE MANEUVERS</h4>
            <p>Dodge <span class="highlight-red">Asteroids</span> and <span
                style="color: #d400ff; font-weight: bold;">Shadow Comets</span>.<br>Collisions cause critical speed
              loss.</p>
          </div>

          <!-- 3. Mechanic: Slingshot (Good) -->
          <div class="instr-card">
            <h4>üåÄ GRAVITY SLINGSHOT</h4>
            <p>Fly through the <span class="highlight-green">GREEN OUTER RING</span> of a Black Hole.</p>
            <p style="margin-top:5px; font-size: 15px;">
              ‚û¢ When you glow <span class="highlight-green">GREEN</span>, press <span class="key-cap">F</span> to
              Boost!
            </p>
          </div>

          <!-- 4. Mechanic: Black Hole Center (Bad) -->
          <div class="instr-card danger">
            <h4>‚õî EVENT HORIZON</h4>
            <p>Do NOT enter the <span class="highlight-red">Center</span> of Black Holes.<br>High gravity will trap
              you and drain speed.</p>
          </div>
        </div>
      </div>

      <!-- CONTROLS -->
      <div class="tab-content" id="tab-controls">
        <h3>Controls</h3>
        <div class="tab-subtitle">Control Schemes ‚Ä¢ Mode Dependent</div>

        <div class="controls-main-layout">
          <!-- LEFT: Chapter Carousel -->
          <div class="chapter-carousel-container">
            <div class="carousel-header">
              <div class="carousel-label">CHAPTER CONTROLS</div>
              <div class="carousel-pagination">
                <span class="carousel-dot active" data-page="0"></span>
                <span class="carousel-dot" data-page="1"></span>
              </div>
            </div>

            <div class="carousel-wrapper">
              <button class="carousel-btn carousel-prev" id="carousel-prev">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>

              <div class="carousel-track">
                <!-- PAGE 1: Chapter 0 & 1 -->
                <div class="carousel-page active">
                  <div class="chapter-card">
                    <div class="chapter-card-header ch0">
                      <span class="chapter-badge">CH 0</span>
                      <span class="chapter-name">FREE FLIGHT</span>
                    </div>
                    <div class="chapter-card-body">
                      <div class="control-row">
                        <div class="key-group">
                          <span class="key-cap">W</span>
                          <span class="key-cap">S</span>
                        </div>
                        <span class="control-desc">Forward / Backward</span>
                      </div>
                      <div class="control-row">
                        <div class="key-group">
                          <span class="key-cap">A</span>
                          <span class="key-cap">D</span>
                        </div>
                        <span class="control-desc">Move Left / Right</span>
                      </div>
                      <div class="control-row">
                        <div class="key-group">
                          <span class="key-cap">E</span>
                          <span class="key-cap">Q</span>
                        </div>
                        <span class="control-desc">Fly Up / Down</span>
                      </div>
                      <div class="control-row">
                        <span class="key-cap">F</span>
                        <span class="control-desc">Sonar Pulse</span>
                      </div>
                    </div>
                  </div>

                  <div class="chapter-card">
                    <div class="chapter-card-header ch1">
                      <span class="chapter-badge">CH 1</span>
                      <span class="chapter-name">LANE RUNNER</span>
                    </div>
                    <div class="chapter-card-body">
                      <div class="control-row">
                        <div class="key-group">
                          <span class="key-cap">W</span>
                          <span class="key-cap">S</span>
                        </div>
                        <span class="control-desc">Switch Lane Up/Down</span>
                      </div>
                      <div class="control-row">
                        <div class="key-group">
                          <span class="key-cap">A</span>
                          <span class="key-cap">D</span>
                        </div>
                        <span class="control-desc">Switch Lane Left/Right</span>
                      </div>
                      <div class="control-row">
                        <span class="key-cap">F</span>
                        <span class="control-desc">Slingshot Boost</span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- PAGE 2: Chapter 2 & 3 (Future expansion) -->
                <div class="carousel-page">
                  <div class="chapter-card locked">
                    <div class="chapter-card-header ch2">
                      <span class="chapter-badge">CH 2</span>
                      <span class="chapter-name">NEBULA</span>
                    </div>
                    <div class="chapter-card-body">
                      <div class="locked-message">
                        <div class="lock-icon">üîí</div>
                        <div>Coming Soon</div>
                      </div>
                    </div>
                  </div>

                  <div class="chapter-card locked">
                    <div class="chapter-card-header ch3">
                      <span class="chapter-badge">CH 3</span>
                      <span class="chapter-name">???</span>
                    </div>
                    <div class="chapter-card-body">
                      <div class="locked-message">
                        <div class="lock-icon">üîí</div>
                        <div>Coming Soon</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <button class="carousel-btn carousel-next" id="carousel-next">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
          </div>

          <!-- RIGHT: Universal Controls Panel -->
          <div class="universal-panel">
            <div class="universal-header">
              <div class="universal-icon">‚öô</div>
              <div class="universal-label">UNIVERSAL</div>
            </div>
            <div class="universal-body">
              <div class="universal-control">
                <span class="key-cap">ESC</span>
                <span class="control-desc">Pause</span>
              </div>
              <div class="universal-control">
                <span class="key-cap">H</span>
                <span class="control-desc">Control Hints</span>
              </div>
              <div class="universal-control">
                <span class="key-cap" style="min-width: 65px; display: inline-flex; flex-direction: column; align-items: center; justify-content: center; padding: 6px 4px;">
                  <span style="line-height: 1; font-size: 16px;">üñ±Ô∏è</span>
                  <span style="margin-top: 3px; line-height: 1; font-size: 11px; letter-spacing: 1px;">SCROLL</span>
                </span>
                <span class="control-desc">Camera Distance</span>
              </div>
            </div>
            <div class="universal-tip">
              <div class="tip-icon">üí°</div>
              <div class="tip-text">
                Press <span class="key-cap-inline">H</span> for key reminders
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <button class="btn-back" id="btn-back-instructions">BACK TO MENU</button>
  </div>

  <!-- ========== GAME CANVAS ========== -->
  <div id="canvas-container"></div>

  <!-- SPEED EFFECT OVERLAY -->
  <div id="speed-overlay">
    <div class="vignette"></div>
    <div class="radial-blur"></div>
  </div>

  <!-- LEFT HUD: Energy + Pulse -->
  <div id="hud" class="hidden">
    <div id="lumen-bar-container">
      <div id="lumen-bar"></div>
    </div>
    <div id="pulse-indicator">Press F to Pulse</div>
  </div>

  <!-- RIGHT HUD: Speed + Orbs -->
  <div id="hud-right" class="hidden">
    <div id="speed-display">0</div>
    <div id="speed-unit">KM/H</div>
    <div id="orb-display">
      <div class="orb-icon" data-orb="1"></div>
      <div class="orb-icon" data-orb="2"></div>
      <div class="orb-icon" data-orb="3"></div>
      <div class="orb-icon" data-orb="4"></div>
      <div class="orb-icon" data-orb="5"></div>
    </div>
  </div>

  <!-- LEVEL 1 HUD: Speed Progress Bar -->
  <div id="hud-level1" class="hidden">
    <div id="speed-bar-container">
      <div id="speed-bar-label">LIGHT SPEED</div>
      <div id="speed-bar-track">
        <div id="speed-bar-fill"></div>
        <div id="speed-bar-glow"></div>
      </div>
      <div id="speed-bar-percent">0%</div>
    </div>
    <div id="level1-hint">Collect <span style="color: #00ffff;">PHOTONS</span> to accelerate!</div>
  </div>

  <!-- PAUSE MENU -->
  <div id="pause-menu" class="hidden">
    <h2>PAUSED</h2>
    <div class="pause-menu-buttons">
      <button class="pause-btn" id="resume-btn">RESUME</button>
      <button class="pause-btn" id="restart-btn">RESTART LEVEL</button>
      <button class="pause-btn" id="pause-settings-btn">SETTINGS</button>
      <button class="pause-btn danger" id="quit-btn">QUIT TO MENU</button>
    </div>
  </div>



  <!-- ESC hint -->
  <div id="pause-hint" class="hidden">Press ESC to pause</div>

  <!-- Controls Hint Overlay -->
  <div id="controls-hint" class="hidden">
    <div class="controls-hint-header">
      <h3>CONTROLS</h3>
      <div class="controls-hint-subtitle">Press <span class="key-cap-small">H</span> to hide</div>
    </div>
    <div class="controls-hint-content">
      <div class="hint-section" id="hint-chapter0">
        <h4><span class="hint-chapter-label ch0">CHAPTER 0</span> ‚Ä¢ FREE FLIGHT</h4>
        <div class="hint-row">
          <div class="key-group"><span class="key-cap-small">W</span><span class="key-cap-small">S</span></div>
          <span>Forward / Backward</span>
        </div>
        <div class="hint-row">
          <div class="key-group"><span class="key-cap-small">A</span><span class="key-cap-small">D</span></div>
          <span>Move Left / Right</span>
        </div>
        <div class="hint-row">
          <div class="key-group"><span class="key-cap-small">E</span><span class="key-cap-small">Q</span></div>
          <span>Fly Up / Down</span>
        </div>
        <div class="hint-row">
          <span class="key-cap-small">F</span>
          <span>Sonar Pulse</span>
        </div>
      </div>
      <div class="hint-section" id="hint-chapter1">
        <h4><span class="hint-chapter-label ch1">CHAPTER 1</span> ‚Ä¢ LANE RUNNER</h4>
        <div class="hint-row">
          <div class="key-group"><span class="key-cap-small">W</span><span class="key-cap-small">S</span></div>
          <span>Switch Lane Up / Down</span>
        </div>
        <div class="hint-row">
          <div class="key-group"><span class="key-cap-small">A</span><span class="key-cap-small">D</span></div>
          <span>Switch Lane Left / Right</span>
        </div>
        <div class="hint-row">
          <span class="key-cap-small">F</span>
          <span>Slingshot Boost</span>
        </div>
      </div>
      <div class="hint-section hint-universal">
        <h4>UNIVERSAL</h4>
        <div class="hint-row">
          <span class="key-cap-small">ESC</span>
          <span>Pause Menu</span>
        </div>
        <div class="hint-row">
          <span class="key-cap-small" style="min-width: 50px;">üñ±Ô∏è Scroll</span>
          <span>Camera Distance</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Chapter Start Title -->
  <div id="chapter-title-overlay" class="hidden">
    <h1 id="chapter-title-text">Chapter 1</h1>
    <h3 id="chapter-subtitle-text">The Ascent</h3>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>